schema: '2.0'
stages:
  import_raw_data:
    cmd: python src/ml/data/import_raw_data.py
    deps:
    - path: 
        data/raw/comptage-velo-donnees-compteurs-2024-2025_Enriched_ML-ready_data.csv
      hash: md5
      md5: e38aee22570ad4ab0b92d72dba3690cf
      size: 149464819
    - path: src/ml/data/data_utils.py
      hash: md5
      md5: 74fb0b7c34f2dfb7c6aae9fd2ca5551b
      size: 896
    - path: src/ml/data/import_raw_data.py
      hash: md5
      md5: ec4c6ae129a6f8d84dcdc919f5e3fb90
      size: 3388
    - path: src/ml/test_config.py
      hash: md5
      md5: 5c0550471c5da55d047deb4da6ff507e
      size: 1939
    outs:
    - path: data/interim/Sebastopol_N-S_v2/
      hash: md5
      md5: a63a37b43985a1ca9d5d06681ca9ac23.dir
      size: 1216943
      nfiles: 1
  build_features:
    cmd: python src/ml/features/build_features.py
    deps:
    - path: data/interim/Sebastopol_N-S_v2/
      hash: md5
      md5: a63a37b43985a1ca9d5d06681ca9ac23.dir
      size: 1216943
      nfiles: 1
    - path: src/ml/features/build_features.py
      hash: md5
      md5: 610d2da8a40fcaae2fcdd025cf108ed4
      size: 3438
    - path: src/ml/features/features_utils.py
      hash: md5
      md5: 7325746a0934d801f392e0f0574d1f67
      size: 3776
    outs:
    - path: data/processed/Sebastopol_N-S_v2/
      hash: md5
      md5: 4d9ab96b3c2d455d51e270e02d34576e.dir
      size: 1350050
      nfiles: 1
  train_and_predict:
    cmd: python src/ml/models/train_and_predict.py
    deps:
    - path: data/processed/Sebastopol_N-S_v2/
      hash: md5
      md5: 4d9ab96b3c2d455d51e270e02d34576e.dir
      size: 1350050
      nfiles: 1
    - path: src/ml/models/mlflow_tracking.py
      hash: md5
      md5: 665e358bb0c1066f8c0c7f4585c32c18
      size: 4308
    - path: src/ml/models/models_utils.py
      hash: md5
      md5: 86bf7ee7f34237d8ad4c0e616813f1b5
      size: 20091
    - path: src/ml/models/train_and_predict.py
      hash: md5
      md5: 31e43853a4259231ce12ae473be59639
      size: 4645
    outs:
    - path: data/final/Sebastopol_N-S_v2/
      hash: md5
      md5: 5dae20614df0af0c108d32a05e79307c.dir
      size: 2400660
      nfiles: 9
    - path: models/Sebastopol_N-S_v2/
      hash: md5
      md5: 5451b1309fb2440f48aa8b26b1b73083.dir
      size: 419054
      nfiles: 4
