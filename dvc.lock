schema: '2.0'
stages:
  import_raw_data:
    cmd: python src/ml/data/import_raw_data.py
    deps:
    - path: 
        data/raw/comptage-velo-donnees-compteurs-2024-2025_Enriched_ML-ready_data.csv
      hash: md5
      md5: e38aee22570ad4ab0b92d72dba3690cf
      size: 149464819
    - path: src/ml/data/data_utils.py
      hash: md5
      md5: 74fb0b7c34f2dfb7c6aae9fd2ca5551b
      size: 896
    - path: src/ml/data/import_raw_data.py
      hash: md5
      md5: f173abe610b703dce8fa515dd6053128
      size: 3852
    outs:
    - path: data/processed/Sebastopol_N-S_initial.csv
      hash: md5
      md5: ab571e675cfde8b51beff3b44985a2c5
      size: 1233757
  build_features:
    cmd: python src/ml/features/build_features.py
    deps:
    - path: data/processed/Sebastopol_N-S_initial.csv
      hash: md5
      md5: ab571e675cfde8b51beff3b44985a2c5
      size: 1233757
    - path: src/ml/features/build_features.py
      hash: md5
      md5: fdd52d093fd41ae5b7a8255eb4cfa455
      size: 3478
    - path: src/ml/features/features_utils.py
      hash: md5
      md5: 7325746a0934d801f392e0f0574d1f67
      size: 3776
    outs:
    - path: data/processed/Sebastopol_N-S_initial_with_feats.csv
      hash: md5
      md5: cc92e08db91ca8c4bb4b0332107f5bc3
      size: 1368892
  train_and_predict:
    cmd: python src/ml/models/train_and_predict.py
    deps:
    - path: data/processed/Sebastopol_N-S_initial_with_feats.csv
      hash: md5
      md5: cc92e08db91ca8c4bb4b0332107f5bc3
      size: 1368892
    - path: src/ml/models/mlflow_tracking.py
      hash: md5
      md5: 5fdedd5e622c0a74b5b7300e0d4c8f41
      size: 4260
    - path: src/ml/models/models_utils.py
      hash: md5
      md5: 86bf7ee7f34237d8ad4c0e616813f1b5
      size: 20091
    - path: src/ml/models/train_and_predict.py
      hash: md5
      md5: 4f801065a2f5479985b2fde59a10a833
      size: 4911
    outs:
    - path: data/final/Sebastopol_N-S/
      hash: md5
      md5: 9aabd5b5f37dd2f4ed872612f1926e09.dir
      size: 2454385
      nfiles: 9
    - path: models/Sebastopol_N-S/
      hash: md5
      md5: 6fd097146fa89d7f11e1bf7e9601375f.dir
      size: 1976097
      nfiles: 4
